(()=>{var e={150:function(e,s){var r,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(a="function"==typeof(r=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const s="The message port closed before a response was received.",r="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",a=e=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(a).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class t extends WeakMap{constructor(e,s){super(s),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const n=(s,r)=>(...a)=>{e.runtime.lastError?s.reject(e.runtime.lastError):r.singleCallbackArg||a.length<=1&&!1!==r.singleCallbackArg?s.resolve(a[0]):s.resolve(a)},g=e=>1==e?"argument":"arguments",i=(e,s,r)=>new Proxy(s,{apply:(s,a,t)=>r.call(a,e,...t)});let o=Function.call.bind(Object.prototype.hasOwnProperty);const m=(e,s={},r={})=>{let a=Object.create(null),t={has:(s,r)=>r in e||r in a,get(t,A,l){if(A in a)return a[A];if(!(A in e))return;let c=e[A];if("function"==typeof c)if("function"==typeof s[A])c=i(e,e[A],s[A]);else if(o(r,A)){let s=((e,s)=>function(r,...a){if(a.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${g(s.minArgs)} for ${e}(), got ${a.length}`);if(a.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${g(s.maxArgs)} for ${e}(), got ${a.length}`);return new Promise(((t,g)=>{if(s.fallbackToNoCallback)try{r[e](...a,n({resolve:t,reject:g},s))}catch(n){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,n),r[e](...a),s.fallbackToNoCallback=!1,s.noCallback=!0,t()}else s.noCallback?(r[e](...a),t()):r[e](...a,n({resolve:t,reject:g},s))}))})(A,r[A]);c=i(e,e[A],s)}else c=c.bind(e);else if("object"==typeof c&&null!==c&&(o(s,A)||o(r,A)))c=m(c,s[A],r[A]);else{if(!o(r,"*"))return Object.defineProperty(a,A,{configurable:!0,enumerable:!0,get:()=>e[A],set(s){e[A]=s}}),c;c=m(c,s[A],r["*"])}return a[A]=c,c},set:(s,r,t,n)=>(r in a?a[r]=t:e[r]=t,!0),defineProperty:(e,s,r)=>Reflect.defineProperty(a,s,r),deleteProperty:(e,s)=>Reflect.deleteProperty(a,s)},A=Object.create(e);return new Proxy(A,t)},A=e=>({addListener(s,r,...a){s.addListener(e.get(r),...a)},hasListener:(s,r)=>s.hasListener(e.get(r)),removeListener(s,r){s.removeListener(e.get(r))}});let l=!1;const c=new t((e=>"function"!=typeof e?e:function(s,a,t){let n,g,i=!1,o=new Promise((e=>{n=function(s){l||(console.warn(r,(new Error).stack),l=!0),i=!0,e(s)}}));try{g=e(s,a,n)}catch(e){g=Promise.reject(e)}const m=!0!==g&&((A=g)&&"object"==typeof A&&"function"==typeof A.then);var A;if(!0!==g&&!m&&!i)return!1;return(m?g:o).then((e=>{t(e)}),(e=>{let s;s=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",t({__mozWebExtensionPolyfillReject__:!0,message:s})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),x=({reject:r,resolve:a},t)=>{e.runtime.lastError?e.runtime.lastError.message===s?a():r(e.runtime.lastError):t&&t.__mozWebExtensionPolyfillReject__?r(new Error(t.message)):a(t)},d=(e,s,r,...a)=>{if(a.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${g(s.minArgs)} for ${e}(), got ${a.length}`);if(a.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${g(s.maxArgs)} for ${e}(), got ${a.length}`);return new Promise(((e,s)=>{const t=x.bind(null,{resolve:e,reject:s});a.push(t),r.sendMessage(...a)}))},u={runtime:{onMessage:A(c),onMessageExternal:A(c),sendMessage:d.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:d.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},p={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":p},services:{"*":p},websites:{"*":p}},m(e,u,a)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=a(chrome)}else e.exports=browser})?r.apply(s,[e]):r)||(e.exports=a)},448:(e,s,r)=>{"use strict";r.d(s,{Sp:()=>a,An:()=>t,AI:()=>n,$h:()=>g,J1:()=>i});const a="auto-capitalise-extension",t="sites_to_ignore",n="should_capitalise_i",g="should_capitalise_names",i="should_capitalise_abbreviations"},451:(e,s,r)=>{"use strict";var a=r(150),t=r.n(a),n=r(555),g=r(448);function i(e){t().storage.local.set({should_capitalise_i:e})}function o(e){t().storage.local.set({should_capitalise_names:e})}function m(e){t().storage.local.set({should_capitalise_abbreviations:e})}function A(){var e=$("#sites").val();return e?e.split("\n"):[]}t().storage.local.get(g.An).then((function(e){var s=e.sites_to_ignore;s&&$("#sites").val(s.join("\n"))}),(function(e){console.log(e)})),$(document).on(`click.${g.Sp}`,"#ignoreSiteButton",(function(){t().tabs.query({currentWindow:!0,active:!0}).then((e=>{var s,r,a=(s=e[0].url,(r=document.createElement("a")).href=s,r.hostname),n=A();n.push(a),t().storage.local.set({sites_to_ignore:n}),$("#sites").val(n.join("\n")),$(this).prop("disabled",!0),$(this).val("Site added to ignore list")}))})),$(document).on(`click.${g.Sp}`,"#submitButton",(function(){var e=A();t().storage.local.set({sites_to_ignore:e}),$(this).prop("disabled",!0),$(this).val("Saved")})),t().storage.local.get(g.AI).then((e=>{const s=e.should_capitalise_i;!0===s||void 0===s?($("#shouldCapitaliseI").prop("checked",!0),i(!0)):($("#shouldCapitaliseI").prop("checked",!1),i(!1))})),t().storage.local.get(g.$h).then((e=>{const s=e.should_capitalise_names;!0===s||void 0===s?($("#shouldCapitaliseNames").prop("checked",!0),o(!0)):($("#shouldCapitaliseNames").prop("checked",!1),o(!1))})),t().storage.local.get(g.J1).then((e=>{const s=e.should_capitalise_abbreviations;!0===s||void 0===s?($("#shouldCapitaliseAbbreviations").prop("checked",!0),m(!0)):($("#shouldCapitaliseAbbreviations").prop("checked",!1),m(!1))})),$(document).on(`change.${g.Sp}`,"#shouldCapitaliseI",(function(e){$(e.target).prop("checked")?i(!0):i(!1)})),$(document).on(`change.${g.Sp}`,"#shouldCapitaliseAbbreviations",(function(e){$(e.target).prop("checked")?m(!0):m(!1)})),$(document).on(`change.${g.Sp}`,"#shouldCapitaliseNames",(function(e){$(e.target).prop("checked")?o(!0):o(!1)})),$("#toggleButton").on(`click.${g.Sp}`,(function(){n.Vw(),t().management.get("{}").then((e=>{console.log("toggled"),t().management.setEnabled("{}",!e.enabled)})).catch((e=>console.error(e)))})),$("#sites").on(`input.${g.Sp}`,(function(){$("#submitButton").prop("disabled",!1)}))},555:(e,s,r)=>{"use strict";r.d(s,{Vw:()=>n});var a=r(448);let t=[];function n(){console.log(t),t.forEach((e=>{e.off(`input.${a.Sp}`)}))}}},s={};function r(a){if(s[a])return s[a].exports;var t=s[a]={exports:{}};return e[a].call(t.exports,t,t.exports,r),t.exports}r.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return r.d(s,{a:s}),s},r.d=(e,s)=>{for(var a in s)r.o(s,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},r.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),r(451),r(555)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvLWNhcGl0YWxpc2UtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL3dlYmV4dGVuc2lvbi1wb2x5ZmlsbC9kaXN0L2Jyb3dzZXItcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vYXV0by1jYXBpdGFsaXNlLWV4dGVuc2lvbi8uL3NyYy9wbHVnaW4tY29uc3RhbnRzLmpzIiwid2VicGFjazovL2F1dG8tY2FwaXRhbGlzZS1leHRlbnNpb24vLi9zcmMvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vYXV0by1jYXBpdGFsaXNlLWV4dGVuc2lvbi8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly9hdXRvLWNhcGl0YWxpc2UtZXh0ZW5zaW9uL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2F1dG8tY2FwaXRhbGlzZS1leHRlbnNpb24vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYXV0by1jYXBpdGFsaXNlLWV4dGVuc2lvbi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYXV0by1jYXBpdGFsaXNlLWV4dGVuc2lvbi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2F1dG8tY2FwaXRhbGlzZS1leHRlbnNpb24vd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbImdsb2JhbFRoaXMiLCJzZWxmIiwibW9kdWxlIiwiYnJvd3NlciIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFIiwiU0VORF9SRVNQT05TRV9ERVBSRUNBVElPTl9XQVJOSU5HIiwid3JhcEFQSXMiLCJleHRlbnNpb25BUElzIiwiYXBpTWV0YWRhdGEiLCJrZXlzIiwibGVuZ3RoIiwiRXJyb3IiLCJEZWZhdWx0V2Vha01hcCIsIldlYWtNYXAiLCJjcmVhdGVJdGVtIiwiaXRlbXMiLCJzdXBlciIsInRoaXMiLCJrZXkiLCJoYXMiLCJzZXQiLCJnZXQiLCJtYWtlQ2FsbGJhY2siLCJwcm9taXNlIiwibWV0YWRhdGEiLCJjYWxsYmFja0FyZ3MiLCJydW50aW1lIiwibGFzdEVycm9yIiwicmVqZWN0Iiwic2luZ2xlQ2FsbGJhY2tBcmciLCJyZXNvbHZlIiwicGx1cmFsaXplQXJndW1lbnRzIiwibnVtQXJncyIsIndyYXBNZXRob2QiLCJ0YXJnZXQiLCJtZXRob2QiLCJ3cmFwcGVyIiwiUHJveHkiLCJhcHBseSIsInRhcmdldE1ldGhvZCIsInRoaXNPYmoiLCJhcmdzIiwiY2FsbCIsImhhc093blByb3BlcnR5IiwiRnVuY3Rpb24iLCJiaW5kIiwid3JhcE9iamVjdCIsIndyYXBwZXJzIiwiY2FjaGUiLCJjcmVhdGUiLCJoYW5kbGVycyIsInByb3h5VGFyZ2V0IiwicHJvcCIsInJlY2VpdmVyIiwidmFsdWUiLCJuYW1lIiwibWluQXJncyIsIm1heEFyZ3MiLCJQcm9taXNlIiwiZmFsbGJhY2tUb05vQ2FsbGJhY2siLCJjYkVycm9yIiwiY29uc29sZSIsIndhcm4iLCJub0NhbGxiYWNrIiwid3JhcEFzeW5jRnVuY3Rpb24iLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJkZXNjIiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5Iiwid3JhcEV2ZW50Iiwid3JhcHBlck1hcCIsImxpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJoYXNMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwibG9nZ2VkU2VuZFJlc3BvbnNlRGVwcmVjYXRpb25XYXJuaW5nIiwib25NZXNzYWdlV3JhcHBlcnMiLCJtZXNzYWdlIiwic2VuZGVyIiwic2VuZFJlc3BvbnNlIiwid3JhcHBlZFNlbmRSZXNwb25zZSIsInJlc3VsdCIsImRpZENhbGxTZW5kUmVzcG9uc2UiLCJzZW5kUmVzcG9uc2VQcm9taXNlIiwicmVzcG9uc2UiLCJzdGFjayIsImVyciIsImlzUmVzdWx0VGhlbmFibGUiLCJ0aGVuIiwibXNnIiwiZXJyb3IiLCJfX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X18iLCJjYXRjaCIsIndyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrIiwicmVwbHkiLCJ3cmFwcGVkU2VuZE1lc3NhZ2UiLCJhcGlOYW1lc3BhY2VPYmoiLCJ3cmFwcGVkQ2IiLCJwdXNoIiwic2VuZE1lc3NhZ2UiLCJzdGF0aWNXcmFwcGVycyIsIm9uTWVzc2FnZSIsIm9uTWVzc2FnZUV4dGVybmFsIiwidGFicyIsInNldHRpbmdNZXRhZGF0YSIsImNsZWFyIiwicHJpdmFjeSIsIm5ldHdvcmsiLCJzZXJ2aWNlcyIsIndlYnNpdGVzIiwiY2hyb21lIiwiaWQiLCJleHBvcnRzIiwicGx1Z2luTmFtZXNwYWNlIiwic2l0ZXNfdG9faWdub3JlIiwic2hvdWxkX2NhcGl0YWxpc2VfaSIsInNob3VsZF9jYXBpdGFsaXNlX25hbWVzIiwic2hvdWxkX2NhcGl0YWxpc2VfYWJicmV2aWF0aW9ucyIsInNldF9zaG91bGRfY2FwaXRhbGlzZV9pX3ZhcmlhYmxlIiwic2V0X3Nob3VsZF9jYXBpdGFsaXNlX25hbWVzX3ZhcmlhYmxlIiwic2V0X3Nob3VsZF9jYXBpdGFsaXNlX2FiYnJldmlhdGlvbnNfdmFyaWFibGUiLCJnZXRTaXRlcyIsInNpdGVzQm94VmFsIiwiJCIsInZhbCIsInNwbGl0IiwiaXRlbSIsInNpdGVzVG9FeGNsdWRlIiwiam9pbiIsImxvZyIsImRvY3VtZW50Iiwib24iLCJjdXJyZW50V2luZG93IiwiYWN0aXZlIiwiZGF0YSIsImEiLCJob3N0bmFtZSIsInVybCIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwic2l0ZXMiLCJzaG91bGRDYXBpdGFsaXNlSSIsInVuZGVmaW5lZCIsInNob3VsZENhcGl0YWxpc2VOYW1lcyIsInNob3VsZENhcGl0YWxpc2VBYmJyZXZpYXRpb25zIiwiZXZlbnQiLCJpbmZvIiwiZW5hYmxlZCIsImVsZW1lbnRzX3dpdGhfZXZlbnRfbGlzdGVuZXIiLCJ0b2dnbGVFeHRlbnNpb24iLCJmb3JFYWNoIiwiZWxlbWVudCIsIm9mZiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJkZWZpbml0aW9uIiwibyIsIm9iaiJdLCJtYXBwaW5ncyI6IitCQUFBLFFBWXlCLG9CQUFmQSxXQUE2QkEsV0FBNkIsb0JBQVRDLE1BQXVCQSxVQVYzQiwwQkFBUCxFQVUrQyxTQUFVQyxHQVV2RyxhQUVBLEdBQXVCLG9CQUFaQyxTQUEyQkMsT0FBT0MsZUFBZUYsV0FBYUMsT0FBT0UsVUFBVyxDQUN6RixNQUFNQyxFQUFtRCwwREFDbkRDLEVBQW9DLHlQQU1wQ0MsRUFBV0MsSUFJZixNQUFNQyxFQUFjLENBQ2xCLE9BQVUsQ0FDUixNQUFTLENBQ1AsUUFBVyxFQUNYLFFBQVcsR0FFYixTQUFZLENBQ1YsUUFBVyxFQUNYLFFBQVcsR0FFYixJQUFPLENBQ0wsUUFBVyxFQUNYLFFBQVcsR0FFYixPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsSUFHZixVQUFhLENBQ1gsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLEdBRWIsSUFBTyxDQUNMLFFBQVcsRUFDWCxRQUFXLEdBRWIsWUFBZSxDQUNiLFFBQVcsRUFDWCxRQUFXLEdBRWIsVUFBYSxDQUNYLFFBQVcsRUFDWCxRQUFXLEdBRWIsV0FBYyxDQUNaLFFBQVcsRUFDWCxRQUFXLEdBRWIsUUFBVyxDQUNULFFBQVcsRUFDWCxRQUFXLEdBRWIsS0FBUSxDQUNOLFFBQVcsRUFDWCxRQUFXLEdBRWIsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLEdBRWIsV0FBYyxDQUNaLFFBQVcsRUFDWCxRQUFXLEdBRWIsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLEdBRWIsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLElBR2YsY0FBaUIsQ0FDZixRQUFXLENBQ1QsUUFBVyxF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QVNDLElBQ2QxRixRQUFRc0UsSUFBSW1CLEdBQ1pBLEVBQTZCRSxTQUFRQyxJQUNuQ0EsRUFBUUMsSUFBSSxTQUFTLGNDN0JyQkMsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLEdBQUdGLEVBQXlCRSxHQUMzQixPQUFPRixFQUF5QkUsR0FBVTNDLFFBRzNDLElBQUluSCxFQUFTNEosRUFBeUJFLEdBQVksQ0FHakQzQyxRQUFTLElBT1YsT0FIQTRDLEVBQW9CRCxHQUFVbkgsS0FBSzNDLEVBQU9tSCxRQUFTbkgsRUFBUUEsRUFBT21ILFFBQVMwQyxHQUdwRTdKLEVBQU9tSCxRQ25CZjBDLEVBQW9CRyxFQUFLaEssSUFDeEIsSUFBSWlLLEVBQVNqSyxHQUFVQSxFQUFPa0ssV0FDN0IsSUFBTWxLLEVBQWdCLFFBQ3RCLElBQU1BLEVBRVAsT0FEQTZKLEVBQW9CTSxFQUFFRixFQUFRLENBQUV2QixFQUFHdUIsSUFDNUJBLEdDTFJKLEVBQW9CTSxFQUFJLENBQUNoRCxFQUFTaUQsS0FDakMsSUFBSSxJQUFJakosS0FBT2lKLEVBQ1hQLEVBQW9CUSxFQUFFRCxFQUFZakosS0FBUzBJLEVBQW9CUSxFQUFFbEQsRUFBU2hHLElBQzVFakIsT0FBT2dFLGVBQWVpRCxFQUFTaEcsRUFBSyxDQUFFaUQsWUFBWSxFQUFNOUMsSUFBSzhJLEVBQVdqSixNQ0ozRTBJLEVBQW9CUSxFQUFJLENBQUNDLEVBQUtqSCxJQUFTbkQsT0FBT0UsVUFBVXdDLGVBQWVELEtBQUsySCxFQUFLakgsR0NFakZ3RyxFQUFvQixLQUVwQkEsRUFBb0IsTSIsImZpbGUiOiJzZXR0aW5ncy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIiwgW1wibW9kdWxlXCJdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGZhY3RvcnkobW9kdWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbW9kID0ge1xuICAgICAgZXhwb3J0czoge31cbiAgICB9O1xuICAgIGZhY3RvcnkobW9kKTtcbiAgICBnbG9iYWwuYnJvd3NlciA9IG1vZC5leHBvcnRzO1xuICB9XG59KSh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAobW9kdWxlKSB7XG4gIC8qIHdlYmV4dGVuc2lvbi1wb2x5ZmlsbCAtIHYwLjYuMCAtIE1vbiBEZWMgMjMgMjAxOSAxMjozMjo1MyAqL1xuXG4gIC8qIC0qLSBNb2RlOiBpbmRlbnQtdGFicy1tb2RlOiBuaWw7IGpzLWluZGVudC1sZXZlbDogMiAtKi0gKi9cblxuICAvKiB2aW06IHNldCBzdHM9MiBzdz0yIGV0IHR3PTgwOiAqL1xuXG4gIC8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAgICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICAgKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBpZiAodHlwZW9mIGJyb3dzZXIgPT09IFwidW5kZWZpbmVkXCIgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKGJyb3dzZXIpICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgY29uc3QgQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFID0gXCJUaGUgbWVzc2FnZSBwb3J0IGNsb3NlZCBiZWZvcmUgYSByZXNwb25zZSB3YXMgcmVjZWl2ZWQuXCI7XG4gICAgY29uc3QgU0VORF9SRVNQT05TRV9ERVBSRUNBVElPTl9XQVJOSU5HID0gXCJSZXR1cm5pbmcgYSBQcm9taXNlIGlzIHRoZSBwcmVmZXJyZWQgd2F5IHRvIHNlbmQgYSByZXBseSBmcm9tIGFuIG9uTWVzc2FnZS9vbk1lc3NhZ2VFeHRlcm5hbCBsaXN0ZW5lciwgYXMgdGhlIHNlbmRSZXNwb25zZSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgc3BlY3MgKFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL01vemlsbGEvQWRkLW9ucy9XZWJFeHRlbnNpb25zL0FQSS9ydW50aW1lL29uTWVzc2FnZSlcIjsgLy8gV3JhcHBpbmcgdGhlIGJ1bGsgb2YgdGhpcyBwb2x5ZmlsbCBpbiBhIG9uZS10aW1lLXVzZSBmdW5jdGlvbiBpcyBhIG1pbm9yXG4gICAgLy8gb3B0aW1pemF0aW9uIGZvciBGaXJlZm94LiBTaW5jZSBTcGlkZXJtb25rZXkgZG9lcyBub3QgZnVsbHkgcGFyc2UgdGhlXG4gICAgLy8gY29udGVudHMgb2YgYSBmdW5jdGlvbiB1bnRpbCB0aGUgZmlyc3QgdGltZSBpdCdzIGNhbGxlZCwgYW5kIHNpbmNlIGl0IHdpbGxcbiAgICAvLyBuZXZlciBhY3R1YWxseSBuZWVkIHRvIGJlIGNhbGxlZCwgdGhpcyBhbGxvd3MgdGhlIHBvbHlmaWxsIHRvIGJlIGluY2x1ZGVkXG4gICAgLy8gaW4gRmlyZWZveCBuZWFybHkgZm9yIGZyZWUuXG5cbiAgICBjb25zdCB3cmFwQVBJcyA9IGV4dGVuc2lvbkFQSXMgPT4ge1xuICAgICAgLy8gTk9URTogYXBpTWV0YWRhdGEgaXMgYXNzb2NpYXRlZCB0byB0aGUgY29udGVudCBvZiB0aGUgYXBpLW1ldGFkYXRhLmpzb24gZmlsZVxuICAgICAgLy8gYXQgYnVpbGQgdGltZSBieSByZXBsYWNpbmcgdGhlIGZvbGxvd2luZyBcImluY2x1ZGVcIiB3aXRoIHRoZSBjb250ZW50IG9mIHRoZVxuICAgICAgLy8gSlNPTiBmaWxlLlxuICAgICAgY29uc3QgYXBpTWV0YWRhdGEgPSB7XG4gICAgICAgIFwiYWxhcm1zXCI6IHtcbiAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiY2xlYXJBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJib29rbWFya3NcIjoge1xuICAgICAgICAgIFwiY3JlYXRlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Q2hpbGRyZW5cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRSZWNlbnRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRTdWJUcmVlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0VHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVUcmVlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VhcmNoXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwidXBkYXRlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYnJvd3NlckFjdGlvblwiOiB7XG4gICAgICAgICAgXCJkaXNhYmxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZW5hYmxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3JcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRCYWRnZVRleHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRQb3B1cFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFRpdGxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3BlblBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3JcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRCYWRnZVRleHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJyb3dzaW5nRGF0YVwiOiB7XG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDYWNoZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUNvb2tpZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVEb3dubG9hZHNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVGb3JtRGF0YVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUhpc3RvcnlcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVMb2NhbFN0b3JhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVQYXNzd29yZHNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVQbHVnaW5EYXRhXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJjb21tYW5kc1wiOiB7XG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJjb250ZXh0TWVudXNcIjoge1xuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwidXBkYXRlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29va2llc1wiOiB7XG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxDb29raWVTdG9yZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJkZXZ0b29sc1wiOiB7XG4gICAgICAgICAgXCJpbnNwZWN0ZWRXaW5kb3dcIjoge1xuICAgICAgICAgICAgXCJldmFsXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyLFxuICAgICAgICAgICAgICBcInNpbmdsZUNhbGxiYWNrQXJnXCI6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInBhbmVsc1wiOiB7XG4gICAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAzLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMyxcbiAgICAgICAgICAgICAgXCJzaW5nbGVDYWxsYmFja0FyZ1wiOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImRvd25sb2Fkc1wiOiB7XG4gICAgICAgICAgXCJjYW5jZWxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkb3dubG9hZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVyYXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0RmlsZUljb25cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJvcGVuXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicGF1c2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVGaWxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVzdW1lXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VhcmNoXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2hvd1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImV4dGVuc2lvblwiOiB7XG4gICAgICAgICAgXCJpc0FsbG93ZWRGaWxlU2NoZW1lQWNjZXNzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiaXNBbGxvd2VkSW5jb2duaXRvQWNjZXNzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaGlzdG9yeVwiOiB7XG4gICAgICAgICAgXCJhZGRVcmxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVSYW5nZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRlbGV0ZVVybFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFZpc2l0c1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImkxOG5cIjoge1xuICAgICAgICAgIFwiZGV0ZWN0TGFuZ3VhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBY2NlcHRMYW5ndWFnZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZGVudGl0eVwiOiB7XG4gICAgICAgICAgXCJsYXVuY2hXZWJBdXRoRmxvd1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImlkbGVcIjoge1xuICAgICAgICAgIFwicXVlcnlTdGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm1hbmFnZW1lbnRcIjoge1xuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0U2VsZlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEVuYWJsZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1bmluc3RhbGxTZWxmXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibm90aWZpY2F0aW9uc1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBlcm1pc3Npb25MZXZlbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInBhZ2VBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImhpZGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwZXJtaXNzaW9uc1wiOiB7XG4gICAgICAgICAgXCJjb250YWluc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlcXVlc3RcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJydW50aW1lXCI6IHtcbiAgICAgICAgICBcImdldEJhY2tncm91bmRQYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UGxhdGZvcm1JbmZvXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3Blbk9wdGlvbnNQYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVxdWVzdFVwZGF0ZUNoZWNrXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VuZE1lc3NhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogM1xuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZW5kTmF0aXZlTWVzc2FnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFVuaW5zdGFsbFVSTFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInNlc3Npb25zXCI6IHtcbiAgICAgICAgICBcImdldERldmljZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRSZWNlbnRseUNsb3NlZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlc3RvcmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzdG9yYWdlXCI6IHtcbiAgICAgICAgICBcImxvY2FsXCI6IHtcbiAgICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwibWFuYWdlZFwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzeW5jXCI6IHtcbiAgICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwidGFic1wiOiB7XG4gICAgICAgICAgXCJjYXB0dXJlVmlzaWJsZVRhYlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGlzY2FyZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImR1cGxpY2F0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImV4ZWN1dGVTY3JpcHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDdXJyZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Wm9vbVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImhpZ2hsaWdodFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImluc2VydENTU1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJxdWVyeVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbG9hZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUNTU1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0Wm9vbVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRvcFNpdGVzXCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIndlYk5hdmlnYXRpb25cIjoge1xuICAgICAgICAgIFwiZ2V0QWxsRnJhbWVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0RnJhbWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWJSZXF1ZXN0XCI6IHtcbiAgICAgICAgICBcImhhbmRsZXJCZWhhdmlvckNoYW5nZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3aW5kb3dzXCI6IHtcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEN1cnJlbnRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRMYXN0Rm9jdXNlZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoYXBpTWV0YWRhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhcGktbWV0YWRhdGEuanNvbiBoYXMgbm90IGJlZW4gaW5jbHVkZWQgaW4gYnJvd3Nlci1wb2x5ZmlsbFwiKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogQSBXZWFrTWFwIHN1YmNsYXNzIHdoaWNoIGNyZWF0ZXMgYW5kIHN0b3JlcyBhIHZhbHVlIGZvciBhbnkga2V5IHdoaWNoIGRvZXNcbiAgICAgICAqIG5vdCBleGlzdCB3aGVuIGFjY2Vzc2VkLCBidXQgYmVoYXZlcyBleGFjdGx5IGFzIGFuIG9yZGluYXJ5IFdlYWtNYXBcbiAgICAgICAqIG90aGVyd2lzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGVJdGVtXG4gICAgICAgKiAgICAgICAgQSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBpbiBvcmRlciB0byBjcmVhdGUgdGhlIHZhbHVlIGZvciBhbnlcbiAgICAgICAqICAgICAgICBrZXkgd2hpY2ggZG9lcyBub3QgZXhpc3QsIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGFjY2Vzc2VkLiBUaGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiByZWNlaXZlcywgYXMgaXRzIG9ubHkgYXJndW1lbnQsIHRoZSBrZXkgYmVpbmcgY3JlYXRlZC5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNsYXNzIERlZmF1bHRXZWFrTWFwIGV4dGVuZHMgV2Vha01hcCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNyZWF0ZUl0ZW0sIGl0ZW1zID0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc3VwZXIoaXRlbXMpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlSXRlbSA9IGNyZWF0ZUl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnNldChrZXksIHRoaXMuY3JlYXRlSXRlbShrZXkpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KGtleSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBhbiBvYmplY3Qgd2l0aCBhIGB0aGVuYCBtZXRob2QsIGFuZCBjYW5cbiAgICAgICAqIHRoZXJlZm9yZSBiZSBhc3N1bWVkIHRvIGJlaGF2ZSBhcyBhIFByb21pc2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB0aGVuYWJsZS5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IGlzVGhlbmFibGUgPSB2YWx1ZSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHdpbGwgcmVzb2x2ZSBvciByZWplY3RcbiAgICAgICAqIHRoZSBnaXZlbiBwcm9taXNlIGJhc2VkIG9uIGhvdyBpdCBpcyBjYWxsZWQ6XG4gICAgICAgKlxuICAgICAgICogLSBJZiwgd2hlbiBjYWxsZWQsIGBjaHJvbWUucnVudGltZS5sYXN0RXJyb3JgIGNvbnRhaW5zIGEgbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICogICB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIHRoYXQgdmFsdWUuXG4gICAgICAgKiAtIElmIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBleGFjdGx5IG9uZSBhcmd1bWVudCwgdGhlIHByb21pc2UgaXNcbiAgICAgICAqICAgcmVzb2x2ZWQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgICAqIC0gT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB0byBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGVcbiAgICAgICAqICAgZnVuY3Rpb24ncyBhcmd1bWVudHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHByb21pc2VcbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmVzb2x1dGlvbiBhbmQgcmVqZWN0aW9uIGZ1bmN0aW9ucyBvZiBhXG4gICAgICAgKiAgICAgICAgcHJvbWlzZS5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVzb2x2ZVxuICAgICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVqZWN0aW9uXG4gICAgICAgKiAgICAgICAgVGhlIHByb21pc2UncyByZWplY3Rpb24gZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgICAqICAgICAgICBNZXRhZGF0YSBhYm91dCB0aGUgd3JhcHBlZCBtZXRob2Qgd2hpY2ggaGFzIGNyZWF0ZWQgdGhlIGNhbGxiYWNrLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5tYXhSZXNvbHZlZEFyZ3NcbiAgICAgICAqICAgICAgICBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgY2FsbGJhY2sgY3JlYXRlZCBieSB0aGUgd3JhcHBlZCBhc3luYyBmdW5jdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gICAgICAgKiAgICAgICAgVGhlIGdlbmVyYXRlZCBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IG1ha2VDYWxsYmFjayA9IChwcm9taXNlLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gKC4uLmNhbGxiYWNrQXJncykgPT4ge1xuICAgICAgICAgIGlmIChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgICAgICBwcm9taXNlLnJlamVjdChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnIHx8IGNhbGxiYWNrQXJncy5sZW5ndGggPD0gMSAmJiBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3NbMF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoY2FsbGJhY2tBcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwbHVyYWxpemVBcmd1bWVudHMgPSBudW1BcmdzID0+IG51bUFyZ3MgPT0gMSA/IFwiYXJndW1lbnRcIiA6IFwiYXJndW1lbnRzXCI7XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYSB3cmFwcGVyIGZ1bmN0aW9uIGZvciBhIG1ldGhvZCB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCBtZXRhZGF0YS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAgICogICAgICAgIFRoZSBuYW1lIG9mIHRoZSBtZXRob2Qgd2hpY2ggaXMgYmVpbmcgd3JhcHBlZC5cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtZXRhZGF0YVxuICAgICAgICogICAgICAgIE1ldGFkYXRhIGFib3V0IHRoZSBtZXRob2QgYmVpbmcgd3JhcHBlZC5cbiAgICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWluQXJnc1xuICAgICAgICogICAgICAgIFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgd2hpY2ggbXVzdCBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24uIElmIGNhbGxlZCB3aXRoIGZld2VyIHRoYW4gdGhpcyBudW1iZXIgb2YgYXJndW1lbnRzLCB0aGVcbiAgICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5tYXhBcmdzXG4gICAgICAgKiAgICAgICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB3aGljaCBtYXkgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAgICogICAgICAgIGZ1bmN0aW9uLiBJZiBjYWxsZWQgd2l0aCBtb3JlIHRoYW4gdGhpcyBudW1iZXIgb2YgYXJndW1lbnRzLCB0aGVcbiAgICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5tYXhSZXNvbHZlZEFyZ3NcbiAgICAgICAqICAgICAgICBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgY2FsbGJhY2sgY3JlYXRlZCBieSB0aGUgd3JhcHBlZCBhc3luYyBmdW5jdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24ob2JqZWN0LCAuLi4qKX1cbiAgICAgICAqICAgICAgIFRoZSBnZW5lcmF0ZWQgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBBc3luY0Z1bmN0aW9uID0gKG5hbWUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBhc3luY0Z1bmN0aW9uV3JhcHBlcih0YXJnZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgQVBJIG1ldGhvZCBoYXMgY3VycmVudGx5IG5vIGNhbGxiYWNrIG9uIENocm9tZSwgYnV0IGl0IHJldHVybiBhIHByb21pc2Ugb24gRmlyZWZveCxcbiAgICAgICAgICAgICAgLy8gYW5kIHNvIHRoZSBwb2x5ZmlsbCB3aWxsIHRyeSB0byBjYWxsIGl0IHdpdGggYSBjYWxsYmFjayBmaXJzdCwgYW5kIGl0IHdpbGwgZmFsbGJhY2tcbiAgICAgICAgICAgICAgLy8gdG8gbm90IHBhc3NpbmcgdGhlIGNhbGxiYWNrIGlmIHRoZSBmaXJzdCBjYWxsIGZhaWxzLlxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgIH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGNiRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7bmFtZX0gQVBJIG1ldGhvZCBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCB0aGUgY2FsbGJhY2sgcGFyYW1ldGVyLCBgICsgXCJmYWxsaW5nIGJhY2sgdG8gY2FsbCBpdCB3aXRob3V0IGEgY2FsbGJhY2s6IFwiLCBjYkVycm9yKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7IC8vIFVwZGF0ZSB0aGUgQVBJIG1ldGhvZCBtZXRhZGF0YSwgc28gdGhhdCB0aGUgbmV4dCBBUEkgY2FsbHMgd2lsbCBub3QgdHJ5IHRvXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSB1bnN1cHBvcnRlZCBjYWxsYmFjayBhbnltb3JlLlxuXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEuZmFsbGJhY2tUb05vQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5ub0NhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWV0YWRhdGEubm9DYWxsYmFjaykge1xuICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgIH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBleGlzdGluZyBtZXRob2Qgb2YgdGhlIHRhcmdldCBvYmplY3QsIHNvIHRoYXQgY2FsbHMgdG8gaXQgYXJlXG4gICAgICAgKiBpbnRlcmNlcHRlZCBieSB0aGUgZ2l2ZW4gd3JhcHBlciBmdW5jdGlvbi4gVGhlIHdyYXBwZXIgZnVuY3Rpb24gcmVjZWl2ZXMsXG4gICAgICAgKiBhcyBpdHMgZmlyc3QgYXJndW1lbnQsIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YCBvYmplY3QsIGZvbGxvd2VkIGJ5IGVhY2ggb2ZcbiAgICAgICAqIHRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBvcmlnaW5hbCBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAgICogICAgICAgIFRoZSBvcmlnaW5hbCB0YXJnZXQgb2JqZWN0IHRoYXQgdGhlIHdyYXBwZWQgbWV0aG9kIGJlbG9uZ3MgdG8uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZXRob2RcbiAgICAgICAqICAgICAgICBUaGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuIFRoaXMgaXMgdXNlZCBhcyB0aGUgdGFyZ2V0IG9mIHRoZSBQcm94eVxuICAgICAgICogICAgICAgIG9iamVjdCB3aGljaCBpcyBjcmVhdGVkIHRvIHdyYXAgdGhlIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHdyYXBwZXJcbiAgICAgICAqICAgICAgICBUaGUgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgYSBkaXJlY3QgaW52b2NhdGlvblxuICAgICAgICogICAgICAgIG9mIHRoZSB3cmFwcGVkIG1ldGhvZC5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8ZnVuY3Rpb24+fVxuICAgICAgICogICAgICAgIEEgUHJveHkgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gbWV0aG9kLCB3aGljaCBpbnZva2VzIHRoZSBnaXZlbiB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgbWV0aG9kIGluIGl0cyBwbGFjZS5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBNZXRob2QgPSAodGFyZ2V0LCBtZXRob2QsIHdyYXBwZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShtZXRob2QsIHtcbiAgICAgICAgICBhcHBseSh0YXJnZXRNZXRob2QsIHRoaXNPYmosIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLmNhbGwodGhpc09iaiwgdGFyZ2V0LCAuLi5hcmdzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBsZXQgaGFzT3duUHJvcGVydHkgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG4gICAgICAvKipcbiAgICAgICAqIFdyYXBzIGFuIG9iamVjdCBpbiBhIFByb3h5IHdoaWNoIGludGVyY2VwdHMgYW5kIHdyYXBzIGNlcnRhaW4gbWV0aG9kc1xuICAgICAgICogYmFzZWQgb24gdGhlIGdpdmVuIGB3cmFwcGVyc2AgYW5kIGBtZXRhZGF0YWAgb2JqZWN0cy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0XG4gICAgICAgKiAgICAgICAgVGhlIHRhcmdldCBvYmplY3QgdG8gd3JhcC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gW3dyYXBwZXJzID0ge31dXG4gICAgICAgKiAgICAgICAgQW4gb2JqZWN0IHRyZWUgY29udGFpbmluZyB3cmFwcGVyIGZ1bmN0aW9ucyBmb3Igc3BlY2lhbCBjYXNlcy4gQW55XG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gcHJlc2VudCBpbiB0aGlzIG9iamVjdCB0cmVlIGlzIGNhbGxlZCBpbiBwbGFjZSBvZiB0aGVcbiAgICAgICAqICAgICAgICBtZXRob2QgaW4gdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIGB0YXJnZXRgIG9iamVjdCB0cmVlLiBUaGVzZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgbWV0aG9kcyBhcmUgaW52b2tlZCBhcyBkZXNjcmliZWQgaW4ge0BzZWUgd3JhcE1ldGhvZH0uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IFttZXRhZGF0YSA9IHt9XVxuICAgICAgICogICAgICAgIEFuIG9iamVjdCB0cmVlIGNvbnRhaW5pbmcgbWV0YWRhdGEgdXNlZCB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlXG4gICAgICAgKiAgICAgICAgUHJvbWlzZS1iYXNlZCB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYXN5bmNocm9ub3VzLiBBbnkgZnVuY3Rpb24gaW5cbiAgICAgICAqICAgICAgICB0aGUgYHRhcmdldGAgb2JqZWN0IHRyZWUgd2hpY2ggaGFzIGEgY29ycmVzcG9uZGluZyBtZXRhZGF0YSBvYmplY3RcbiAgICAgICAqICAgICAgICBpbiB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgYG1ldGFkYXRhYCB0cmVlIGlzIHJlcGxhY2VkIHdpdGggYW5cbiAgICAgICAqICAgICAgICBhdXRvbWF0aWNhbGx5LWdlbmVyYXRlZCB3cmFwcGVyIGZ1bmN0aW9uLCBhcyBkZXNjcmliZWQgaW5cbiAgICAgICAqICAgICAgICB7QHNlZSB3cmFwQXN5bmNGdW5jdGlvbn1cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8b2JqZWN0Pn1cbiAgICAgICAqL1xuXG4gICAgICBjb25zdCB3cmFwT2JqZWN0ID0gKHRhcmdldCwgd3JhcHBlcnMgPSB7fSwgbWV0YWRhdGEgPSB7fSkgPT4ge1xuICAgICAgICBsZXQgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB7XG4gICAgICAgICAgaGFzKHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcCBpbiB0YXJnZXQgfHwgcHJvcCBpbiBjYWNoZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZ2V0KHByb3h5VGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShwcm9wIGluIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCBvbiB0aGUgdW5kZXJseWluZyBvYmplY3QuIENoZWNrIGlmIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgICAgLy8gYW55IHdyYXBwaW5nLlxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHdyYXBwZXJzW3Byb3BdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgc3BlY2lhbC1jYXNlIHdyYXBwZXIgZm9yIHRoaXMgbWV0aG9kLlxuICAgICAgICAgICAgICAgIHZhbHVlID0gd3JhcE1ldGhvZCh0YXJnZXQsIHRhcmdldFtwcm9wXSwgd3JhcHBlcnNbcHJvcF0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXN5bmMgbWV0aG9kIHRoYXQgd2UgaGF2ZSBtZXRhZGF0YSBmb3IuIENyZWF0ZSBhXG4gICAgICAgICAgICAgICAgLy8gUHJvbWlzZSB3cmFwcGVyIGZvciBpdC5cbiAgICAgICAgICAgICAgICBsZXQgd3JhcHBlciA9IHdyYXBBc3luY0Z1bmN0aW9uKHByb3AsIG1ldGFkYXRhW3Byb3BdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBNZXRob2QodGFyZ2V0LCB0YXJnZXRbcHJvcF0sIHdyYXBwZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBtZXRob2QgdGhhdCB3ZSBkb24ndCBrbm93IG9yIGNhcmUgYWJvdXQuIFJldHVybiB0aGVcbiAgICAgICAgICAgICAgICAvLyBvcmlnaW5hbCBtZXRob2QsIGJvdW5kIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmJpbmQodGFyZ2V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgKGhhc093blByb3BlcnR5KHdyYXBwZXJzLCBwcm9wKSB8fCBoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgcHJvcCkpKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gb2JqZWN0IHRoYXQgd2UgbmVlZCB0byBkbyBzb21lIHdyYXBwaW5nIGZvciB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgICAgLy8gb2YuIENyZWF0ZSBhIHN1Yi1vYmplY3Qgd3JhcHBlciBmb3IgaXQgd2l0aCB0aGUgYXBwcm9wcmlhdGUgY2hpbGRcbiAgICAgICAgICAgICAgLy8gbWV0YWRhdGEuXG4gICAgICAgICAgICAgIHZhbHVlID0gd3JhcE9iamVjdCh2YWx1ZSwgd3JhcHBlcnNbcHJvcF0sIG1ldGFkYXRhW3Byb3BdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIFwiKlwiKSkge1xuICAgICAgICAgICAgICAvLyBXcmFwIGFsbCBwcm9wZXJ0aWVzIGluICogbmFtZXNwYWNlLlxuICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBPYmplY3QodmFsdWUsIHdyYXBwZXJzW3Byb3BdLCBtZXRhZGF0YVtcIipcIl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBkbyBhbnkgd3JhcHBpbmcgZm9yIHRoaXMgcHJvcGVydHksXG4gICAgICAgICAgICAgIC8vIHNvIGp1c3QgZm9yd2FyZCBhbGwgYWNjZXNzIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBzZXQocHJveHlUYXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgY2FjaGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3AsIGRlc2MpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCBkZXNjKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVsZXRlUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGNhY2hlLCBwcm9wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfTsgLy8gUGVyIGNvbnRyYWN0IG9mIHRoZSBQcm94eSBBUEksIHRoZSBcImdldFwiIHByb3h5IGhhbmRsZXIgbXVzdCByZXR1cm4gdGhlXG4gICAgICAgIC8vIG9yaWdpbmFsIHZhbHVlIG9mIHRoZSB0YXJnZXQgaWYgdGhhdCB2YWx1ZSBpcyBkZWNsYXJlZCByZWFkLW9ubHkgYW5kXG4gICAgICAgIC8vIG5vbi1jb25maWd1cmFibGUuIEZvciB0aGlzIHJlYXNvbiwgd2UgY3JlYXRlIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAgICAvLyBwcm90b3R5cGUgc2V0IHRvIGB0YXJnZXRgIGluc3RlYWQgb2YgdXNpbmcgYHRhcmdldGAgZGlyZWN0bHkuXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBjYW5ub3QgcmV0dXJuIGEgY3VzdG9tIG9iamVjdCBmb3IgQVBJcyB0aGF0XG4gICAgICAgIC8vIGFyZSBkZWNsYXJlZCByZWFkLW9ubHkgYW5kIG5vbi1jb25maWd1cmFibGUsIHN1Y2ggYXMgYGNocm9tZS5kZXZ0b29sc2AuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBwcm94eSBoYW5kbGVycyB0aGVtc2VsdmVzIHdpbGwgc3RpbGwgdXNlIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YFxuICAgICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBgcHJveHlUYXJnZXRgLCBzbyB0aGF0IHRoZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFyZVxuICAgICAgICAvLyBkZXJlZmVyZW5jZWQgdmlhIHRoZSBvcmlnaW5hbCB0YXJnZXRzLlxuXG4gICAgICAgIGxldCBwcm94eVRhcmdldCA9IE9iamVjdC5jcmVhdGUodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShwcm94eVRhcmdldCwgaGFuZGxlcnMpO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhIHNldCBvZiB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgb2JqZWN0LCB3aGljaCBoYW5kbGVzXG4gICAgICAgKiB3cmFwcGluZyBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdGhhdCB0aG9zZSBtZXNzYWdlcyBhcmUgcGFzc2VkLlxuICAgICAgICpcbiAgICAgICAqIEEgc2luZ2xlIHdyYXBwZXIgaXMgY3JlYXRlZCBmb3IgZWFjaCBsaXN0ZW5lciBmdW5jdGlvbiwgYW5kIHN0b3JlZCBpbiBhXG4gICAgICAgKiBtYXAuIFN1YnNlcXVlbnQgY2FsbHMgdG8gYGFkZExpc3RlbmVyYCwgYGhhc0xpc3RlbmVyYCwgb3IgYHJlbW92ZUxpc3RlbmVyYFxuICAgICAgICogcmV0cmlldmUgdGhlIG9yaWdpbmFsIHdyYXBwZXIsIHNvIHRoYXQgIGF0dGVtcHRzIHRvIHJlbW92ZSBhXG4gICAgICAgKiBwcmV2aW91c2x5LWFkZGVkIGxpc3RlbmVyIHdvcmsgYXMgZXhwZWN0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtEZWZhdWx0V2Vha01hcDxmdW5jdGlvbiwgZnVuY3Rpb24+fSB3cmFwcGVyTWFwXG4gICAgICAgKiAgICAgICAgQSBEZWZhdWx0V2Vha01hcCBvYmplY3Qgd2hpY2ggd2lsbCBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHdyYXBwZXJcbiAgICAgICAqICAgICAgICBmb3IgYSBnaXZlbiBsaXN0ZW5lciBmdW5jdGlvbiB3aGVuIG9uZSBkb2VzIG5vdCBleGlzdCwgYW5kIHJldHJpZXZlXG4gICAgICAgKiAgICAgICAgYW4gZXhpc3Rpbmcgb25lIHdoZW4gaXQgZG9lcy5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAgICovXG5cblxuICAgICAgY29uc3Qgd3JhcEV2ZW50ID0gd3JhcHBlck1hcCA9PiAoe1xuICAgICAgICBhZGRMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyLCAuLi5hcmdzKSB7XG4gICAgICAgICAgdGFyZ2V0LmFkZExpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSwgLi4uYXJncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFzTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lcikge1xuICAgICAgICAgIHJldHVybiB0YXJnZXQuaGFzTGlzdGVuZXIod3JhcHBlck1hcC5nZXQobGlzdGVuZXIpKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSk7XG4gICAgICAgIH1cblxuICAgICAgfSk7IC8vIEtlZXAgdHJhY2sgaWYgdGhlIGRlcHJlY2F0aW9uIHdhcm5pbmcgaGFzIGJlZW4gbG9nZ2VkIGF0IGxlYXN0IG9uY2UuXG5cblxuICAgICAgbGV0IGxvZ2dlZFNlbmRSZXNwb25zZURlcHJlY2F0aW9uV2FybmluZyA9IGZhbHNlO1xuICAgICAgY29uc3Qgb25NZXNzYWdlV3JhcHBlcnMgPSBuZXcgRGVmYXVsdFdlYWtNYXAobGlzdGVuZXIgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBzIGEgbWVzc2FnZSBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IG1heSBzZW5kIHJlc3BvbnNlcyBiYXNlZCBvblxuICAgICAgICAgKiBpdHMgcmV0dXJuIHZhbHVlLCByYXRoZXIgdGhhbiBieSByZXR1cm5pbmcgYSBzZW50aW5lbCB2YWx1ZSBhbmQgY2FsbGluZyBhXG4gICAgICAgICAqIGNhbGxiYWNrLiBJZiB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UsIHRoZSByZXNwb25zZSBpc1xuICAgICAgICAgKiBzZW50IHdoZW4gdGhlIHByb21pc2UgZWl0aGVyIHJlc29sdmVzIG9yIHJlamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gbWVzc2FnZVxuICAgICAgICAgKiAgICAgICAgVGhlIG1lc3NhZ2Ugc2VudCBieSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBjaGFubmVsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gc2VuZGVyXG4gICAgICAgICAqICAgICAgICBEZXRhaWxzIGFib3V0IHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKil9IHNlbmRSZXNwb25zZVxuICAgICAgICAgKiAgICAgICAgQSBjYWxsYmFjayB3aGljaCwgd2hlbiBjYWxsZWQgd2l0aCBhbiBhcmJpdHJhcnkgYXJndW1lbnQsIHNlbmRzXG4gICAgICAgICAqICAgICAgICB0aGF0IHZhbHVlIGFzIGEgcmVzcG9uc2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKiAgICAgICAgVHJ1ZSBpZiB0aGUgd3JhcHBlZCBsaXN0ZW5lciByZXR1cm5lZCBhIFByb21pc2UsIHdoaWNoIHdpbGwgbGF0ZXJcbiAgICAgICAgICogICAgICAgIHlpZWxkIGEgcmVzcG9uc2UuIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICovXG5cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gb25NZXNzYWdlKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG4gICAgICAgICAgbGV0IGRpZENhbGxTZW5kUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgICAgICBsZXQgd3JhcHBlZFNlbmRSZXNwb25zZTtcbiAgICAgICAgICBsZXQgc2VuZFJlc3BvbnNlUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgd3JhcHBlZFNlbmRSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBpZiAoIWxvZ2dlZFNlbmRSZXNwb25zZURlcHJlY2F0aW9uV2FybmluZykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihTRU5EX1JFU1BPTlNFX0RFUFJFQ0FUSU9OX1dBUk5JTkcsIG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICAgICAgICAgICAgICBsb2dnZWRTZW5kUmVzcG9uc2VEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGlkQ2FsbFNlbmRSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGxpc3RlbmVyKG1lc3NhZ2UsIHNlbmRlciwgd3JhcHBlZFNlbmRSZXNwb25zZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzUmVzdWx0VGhlbmFibGUgPSByZXN1bHQgIT09IHRydWUgJiYgaXNUaGVuYWJsZShyZXN1bHQpOyAvLyBJZiB0aGUgbGlzdGVuZXIgZGlkbid0IHJldHVybmVkIHRydWUgb3IgYSBQcm9taXNlLCBvciBjYWxsZWRcbiAgICAgICAgICAvLyB3cmFwcGVkU2VuZFJlc3BvbnNlIHN5bmNocm9ub3VzbHksIHdlIGNhbiBleGl0IGVhcmxpZXJcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZXJlIHdpbGwgYmUgbm8gcmVzcG9uc2Ugc2VudCBmcm9tIHRoaXMgbGlzdGVuZXIuXG5cbiAgICAgICAgICBpZiAocmVzdWx0ICE9PSB0cnVlICYmICFpc1Jlc3VsdFRoZW5hYmxlICYmICFkaWRDYWxsU2VuZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSAvLyBBIHNtYWxsIGhlbHBlciB0byBzZW5kIHRoZSBtZXNzYWdlIGlmIHRoZSBwcm9taXNlIHJlc29sdmVzXG4gICAgICAgICAgLy8gYW5kIGFuIGVycm9yIGlmIHRoZSBwcm9taXNlIHJlamVjdHMgKGEgd3JhcHBlZCBzZW5kTWVzc2FnZSBoYXNcbiAgICAgICAgICAvLyB0byB0cmFuc2xhdGUgdGhlIG1lc3NhZ2UgaW50byBhIHJlc29sdmVkIHByb21pc2Ugb3IgYSByZWplY3RlZFxuICAgICAgICAgIC8vIHByb21pc2UpLlxuXG5cbiAgICAgICAgICBjb25zdCBzZW5kUHJvbWlzZWRSZXN1bHQgPSBwcm9taXNlID0+IHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihtc2cgPT4ge1xuICAgICAgICAgICAgICAvLyBzZW5kIHRoZSBtZXNzYWdlIHZhbHVlLlxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UobXNnKTtcbiAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgLy8gU2VuZCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGVycm9yIGlmIHRoZSByZWplY3RlZCB2YWx1ZVxuICAgICAgICAgICAgICAvLyBpcyBhbiBpbnN0YW5jZSBvZiBlcnJvciwgb3IgdGhlIG9iamVjdCBpdHNlbGYgb3RoZXJ3aXNlLlxuICAgICAgICAgICAgICBsZXQgbWVzc2FnZTtcblxuICAgICAgICAgICAgICBpZiAoZXJyb3IgJiYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgfHwgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICBfX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X186IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIC8vIFByaW50IGFuIGVycm9yIG9uIHRoZSBjb25zb2xlIGlmIHVuYWJsZSB0byBzZW5kIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZW5kIG9uTWVzc2FnZSByZWplY3RlZCByZXBseVwiLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTsgLy8gSWYgdGhlIGxpc3RlbmVyIHJldHVybmVkIGEgUHJvbWlzZSwgc2VuZCB0aGUgcmVzb2x2ZWQgdmFsdWUgYXMgYVxuICAgICAgICAgIC8vIHJlc3VsdCwgb3RoZXJ3aXNlIHdhaXQgdGhlIHByb21pc2UgcmVsYXRlZCB0byB0aGUgd3JhcHBlZFNlbmRSZXNwb25zZVxuICAgICAgICAgIC8vIGNhbGxiYWNrIHRvIHJlc29sdmUgYW5kIHNlbmQgaXQgYXMgYSByZXNwb25zZS5cblxuXG4gICAgICAgICAgaWYgKGlzUmVzdWx0VGhlbmFibGUpIHtcbiAgICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZW5kUHJvbWlzZWRSZXN1bHQoc2VuZFJlc3BvbnNlUHJvbWlzZSk7XG4gICAgICAgICAgfSAvLyBMZXQgQ2hyb21lIGtub3cgdGhhdCB0aGUgbGlzdGVuZXIgaXMgcmVwbHlpbmcuXG5cblxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrID0gKHtcbiAgICAgICAgcmVqZWN0LFxuICAgICAgICByZXNvbHZlXG4gICAgICB9LCByZXBseSkgPT4ge1xuICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgIC8vIERldGVjdCB3aGVuIG5vbmUgb2YgdGhlIGxpc3RlbmVycyByZXBsaWVkIHRvIHRoZSBzZW5kTWVzc2FnZSBjYWxsIGFuZCByZXNvbHZlXG4gICAgICAgICAgLy8gdGhlIHByb21pc2UgdG8gdW5kZWZpbmVkIGFzIGluIEZpcmVmb3guXG4gICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3dlYmV4dGVuc2lvbi1wb2x5ZmlsbC9pc3N1ZXMvMTMwXG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSA9PT0gQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFKSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVwbHkgJiYgcmVwbHkuX19tb3pXZWJFeHRlbnNpb25Qb2x5ZmlsbFJlamVjdF9fKSB7XG4gICAgICAgICAgLy8gQ29udmVydCBiYWNrIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvciBpbnRvXG4gICAgICAgICAgLy8gYW4gRXJyb3IgaW5zdGFuY2UuXG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihyZXBseS5tZXNzYWdlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXBseSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZSA9IChuYW1lLCBtZXRhZGF0YSwgYXBpTmFtZXNwYWNlT2JqLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IG1ldGFkYXRhLm1pbkFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gbWV0YWRhdGEubWF4QXJncykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlZENiID0gd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2suYmluZChudWxsLCB7XG4gICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXJncy5wdXNoKHdyYXBwZWRDYik7XG4gICAgICAgICAgYXBpTmFtZXNwYWNlT2JqLnNlbmRNZXNzYWdlKC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN0YXRpY1dyYXBwZXJzID0ge1xuICAgICAgICBydW50aW1lOiB7XG4gICAgICAgICAgb25NZXNzYWdlOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIG9uTWVzc2FnZUV4dGVybmFsOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgICBtYXhBcmdzOiAzXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgdGFiczoge1xuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIG1pbkFyZ3M6IDIsXG4gICAgICAgICAgICBtYXhBcmdzOiAzXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHNldHRpbmdNZXRhZGF0YSA9IHtcbiAgICAgICAgY2xlYXI6IHtcbiAgICAgICAgICBtaW5BcmdzOiAxLFxuICAgICAgICAgIG1heEFyZ3M6IDFcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICBtYXhBcmdzOiAxXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgbWF4QXJnczogMVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYXBpTWV0YWRhdGEucHJpdmFjeSA9IHtcbiAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgIFwiKlwiOiBzZXR0aW5nTWV0YWRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgc2VydmljZXM6IHtcbiAgICAgICAgICBcIipcIjogc2V0dGluZ01ldGFkYXRhXG4gICAgICAgIH0sXG4gICAgICAgIHdlYnNpdGVzOiB7XG4gICAgICAgICAgXCIqXCI6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHdyYXBPYmplY3QoZXh0ZW5zaW9uQVBJcywgc3RhdGljV3JhcHBlcnMsIGFwaU1ldGFkYXRhKTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBjaHJvbWUgIT0gXCJvYmplY3RcIiB8fCAhY2hyb21lIHx8ICFjaHJvbWUucnVudGltZSB8fCAhY2hyb21lLnJ1bnRpbWUuaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgc2NyaXB0IHNob3VsZCBvbmx5IGJlIGxvYWRlZCBpbiBhIGJyb3dzZXIgZXh0ZW5zaW9uLlwiKTtcbiAgICB9IC8vIFRoZSBidWlsZCBwcm9jZXNzIGFkZHMgYSBVTUQgd3JhcHBlciBhcm91bmQgdGhpcyBmaWxlLCB3aGljaCBtYWtlcyB0aGVcbiAgICAvLyBgbW9kdWxlYCB2YXJpYWJsZSBhdmFpbGFibGUuXG5cblxuICAgIG1vZHVsZS5leHBvcnRzID0gd3JhcEFQSXMoY2hyb21lKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGJyb3dzZXI7XG4gIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci1wb2x5ZmlsbC5qcy5tYXBcbiIsImV4cG9ydCBjb25zdCBwbHVnaW5OYW1lc3BhY2UgPSAnYXV0by1jYXBpdGFsaXNlLWV4dGVuc2lvbic7XG5cbmV4cG9ydCBjb25zdCBzaXRlc190b19pZ25vcmUgPSAnc2l0ZXNfdG9faWdub3JlJyxcbiAgc2hvdWxkX2NhcGl0YWxpc2VfaSA9ICdzaG91bGRfY2FwaXRhbGlzZV9pJyxcbiAgc2hvdWxkX2NhcGl0YWxpc2VfbmFtZXMgPSAnc2hvdWxkX2NhcGl0YWxpc2VfbmFtZXMnLFxuICBzaG91bGRfY2FwaXRhbGlzZV9hYmJyZXZpYXRpb25zID0gJ3Nob3VsZF9jYXBpdGFsaXNlX2FiYnJldmlhdGlvbnMnLFxuICBjb25zdGFudHNfa2V5X3ZhbCA9ICdjb25zdGFudHNfa2V5X3ZhbCcsXG4gIG5hbWVzX2tleV92YWwgPSAnbmFtZXNfa2V5X3ZhbCcsXG4gIGFiYnJldmlhdGlvbnNfa2V5X3ZhbCA9ICdhYmJyZXZpYXRpb25zX2tleV92YWwnO1xuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgcGx1Z2luTmFtZXNwYWNlLFxuICBzaXRlc190b19pZ25vcmUsXG4gIHNob3VsZF9jYXBpdGFsaXNlX2ksXG4gIHNob3VsZF9jYXBpdGFsaXNlX25hbWVzLFxuICBzaG91bGRfY2FwaXRhbGlzZV9hYmJyZXZpYXRpb25zLFxufSBmcm9tICcuL3BsdWdpbi1jb25zdGFudHMnO1xuXG5icm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KHNpdGVzX3RvX2lnbm9yZSkudGhlbih1cGRhdGVTaXRlSWdub3JlTGlzdCwgb25FcnJvcik7XG5cbmZ1bmN0aW9uIHVwZGF0ZVNpdGVJZ25vcmVMaXN0KGl0ZW0pIHtcbiAgdmFyIHNpdGVzVG9FeGNsdWRlID0gaXRlbS5zaXRlc190b19pZ25vcmU7XG4gIGlmIChzaXRlc1RvRXhjbHVkZSkge1xuICAgICQoJyNzaXRlcycpLnZhbChzaXRlc1RvRXhjbHVkZS5qb2luKCdcXG4nKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25FcnJvcihlcnJvcikge1xuICBjb25zb2xlLmxvZyhlcnJvcik7XG59XG5cbmZ1bmN0aW9uIGdldFVybERvbWFpbihkYXRhKSB7XG4gIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBhLmhyZWYgPSBkYXRhO1xuICByZXR1cm4gYS5ob3N0bmFtZTtcbn1cblxuJChkb2N1bWVudCkub24oYGNsaWNrLiR7cGx1Z2luTmFtZXNwYWNlfWAsICcjaWdub3JlU2l0ZUJ1dHRvbicsIGZ1bmN0aW9uKCkge1xuICBicm93c2VyLnRhYnMucXVlcnkoeyBjdXJyZW50V2luZG93OiB0cnVlLCBhY3RpdmU6IHRydWUgfSkudGhlbih0YWJzID0+IHtcbiAgICB2YXIgaG9zdG5hbWUgPSBnZXRVcmxEb21haW4odGFic1swXS51cmwpO1xuICAgIHZhciBzaXRlcyA9IGdldFNpdGVzKCk7XG4gICAgc2l0ZXMucHVzaChob3N0bmFtZSk7XG5cbiAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHtcbiAgICAgIHNpdGVzX3RvX2lnbm9yZTogc2l0ZXMsXG4gICAgfSk7XG5cbiAgICAkKCcjc2l0ZXMnKS52YWwoc2l0ZXMuam9pbignXFxuJykpO1xuICAgICQodGhpcykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAkKHRoaXMpLnZhbCgnU2l0ZSBhZGRlZCB0byBpZ25vcmUgbGlzdCcpO1xuICB9KTtcbn0pO1xuXG4kKGRvY3VtZW50KS5vbihgY2xpY2suJHtwbHVnaW5OYW1lc3BhY2V9YCwgJyNzdWJtaXRCdXR0b24nLCBmdW5jdGlvbigpIHtcbiAgdmFyIHNpdGVzID0gZ2V0U2l0ZXMoKTtcblxuICBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHtcbiAgICBzaXRlc190b19pZ25vcmU6IHNpdGVzLFxuICB9KTtcblxuICAkKHRoaXMpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICQodGhpcykudmFsKCdTYXZlZCcpO1xufSk7XG5cbi8vIHNldHRpbmcgdGhlIHZhbHVlIG9mIGNoZWNrYm94XG5icm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KHNob3VsZF9jYXBpdGFsaXNlX2kpLnRoZW4oaXRlbXMgPT4ge1xuICBjb25zdCBzaG91bGRDYXBpdGFsaXNlSSA9IGl0ZW1zLnNob3VsZF9jYXBpdGFsaXNlX2k7XG5cbiAgaWYgKHNob3VsZENhcGl0YWxpc2VJID09PSB0cnVlIHx8IHNob3VsZENhcGl0YWxpc2VJID09PSB1bmRlZmluZWQpIHtcbiAgICAvL3ZhbHVlIG5vdCBzZXQgeWV0L2V4dCBqdXN0IGluc3RhbGxlZFxuICAgICQoJyNzaG91bGRDYXBpdGFsaXNlSScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICBzZXRfc2hvdWxkX2NhcGl0YWxpc2VfaV92YXJpYWJsZSh0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcjc2hvdWxkQ2FwaXRhbGlzZUknKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgIHNldF9zaG91bGRfY2FwaXRhbGlzZV9pX3ZhcmlhYmxlKGZhbHNlKTtcbiAgfVxufSk7XG5cbmJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoc2hvdWxkX2NhcGl0YWxpc2VfbmFtZXMpLnRoZW4oaXRlbXMgPT4ge1xuICBjb25zdCBzaG91bGRDYXBpdGFsaXNlTmFtZXMgPSBpdGVtcy5zaG91bGRfY2FwaXRhbGlzZV9uYW1lcztcblxuICBpZiAoc2hvdWxkQ2FwaXRhbGlzZU5hbWVzID09PSB0cnVlIHx8IHNob3VsZENhcGl0YWxpc2VOYW1lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy92YWx1ZSBub3Qgc2V0IHlldC9leHQganVzdCBpbnN0YWxsZWRcbiAgICAkKCcjc2hvdWxkQ2FwaXRhbGlzZU5hbWVzJykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgIHNldF9zaG91bGRfY2FwaXRhbGlzZV9uYW1lc192YXJpYWJsZSh0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICAkKCcjc2hvdWxkQ2FwaXRhbGlzZU5hbWVzJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICBzZXRfc2hvdWxkX2NhcGl0YWxpc2VfbmFtZXNfdmFyaWFibGUoZmFsc2UpO1xuICB9XG59KTtcblxuYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldChzaG91bGRfY2FwaXRhbGlzZV9hYmJyZXZpYXRpb25zKS50aGVuKGl0ZW1zID0+IHtcbiAgY29uc3Qgc2hvdWxkQ2FwaXRhbGlzZUFiYnJldmlhdGlvbnMgPSBpdGVtcy5zaG91bGRfY2FwaXRhbGlzZV9hYmJyZXZpYXRpb25zO1xuXG4gIGlmIChcbiAgICBzaG91bGRDYXBpdGFsaXNlQWJicmV2aWF0aW9ucyA9PT0gdHJ1ZSB8fFxuICAgIHNob3VsZENhcGl0YWxpc2VBYmJyZXZpYXRpb25zID09PSB1bmRlZmluZWRcbiAgKSB7XG4gICAgLy92YWx1ZSBub3Qgc2V0IHlldC9leHQganVzdCBpbnN0YWxsZWRcbiAgICAkKCcjc2hvdWxkQ2FwaXRhbGlzZUFiYnJldmlhdGlvbnMnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgc2V0X3Nob3VsZF9jYXBpdGFsaXNlX2FiYnJldmlhdGlvbnNfdmFyaWFibGUodHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgJCgnI3Nob3VsZENhcGl0YWxpc2VBYmJyZXZpYXRpb25zJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICBzZXRfc2hvdWxkX2NhcGl0YWxpc2VfYWJicmV2aWF0aW9uc192YXJpYWJsZShmYWxzZSk7XG4gIH1cbn0pO1xuXG4kKGRvY3VtZW50KS5vbihgY2hhbmdlLiR7cGx1Z2luTmFtZXNwYWNlfWAsICcjc2hvdWxkQ2FwaXRhbGlzZUknLCBmdW5jdGlvbihcbiAgZXZlbnRcbikge1xuICBpZiAoJChldmVudC50YXJnZXQpLnByb3AoJ2NoZWNrZWQnKSkge1xuICAgIHNldF9zaG91bGRfY2FwaXRhbGlzZV9pX3ZhcmlhYmxlKHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHNldF9zaG91bGRfY2FwaXRhbGlzZV9pX3ZhcmlhYmxlKGZhbHNlKTtcbiAgfVxufSk7XG5cbiQoZG9jdW1lbnQpLm9uKFxuICBgY2hhbmdlLiR7cGx1Z2luTmFtZXNwYWNlfWAsXG4gICcjc2hvdWxkQ2FwaXRhbGlzZUFiYnJldmlhdGlvbnMnLFxuICBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICgkKGV2ZW50LnRhcmdldCkucHJvcCgnY2hlY2tlZCcpKSB7XG4gICAgICBzZXRfc2hvdWxkX2NhcGl0YWxpc2VfYWJicmV2aWF0aW9uc192YXJpYWJsZSh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0X3Nob3VsZF9jYXBpdGFsaXNlX2FiYnJldmlhdGlvbnNfdmFyaWFibGUoZmFsc2UpO1xuICAgIH1cbiAgfVxuKTtcblxuJChkb2N1bWVudCkub24oYGNoYW5nZS4ke3BsdWdpbk5hbWVzcGFjZX1gLCAnI3Nob3VsZENhcGl0YWxpc2VOYW1lcycsIGZ1bmN0aW9uKFxuICBldmVudFxuKSB7XG4gIGlmICgkKGV2ZW50LnRhcmdldCkucHJvcCgnY2hlY2tlZCcpKSB7XG4gICAgc2V0X3Nob3VsZF9jYXBpdGFsaXNlX25hbWVzX3ZhcmlhYmxlKHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHNldF9zaG91bGRfY2FwaXRhbGlzZV9uYW1lc192YXJpYWJsZShmYWxzZSk7XG4gIH1cbn0pO1xuXG4kKCcjdG9nZ2xlQnV0dG9uJykub24oYGNsaWNrLiR7cGx1Z2luTmFtZXNwYWNlfWAsIGZ1bmN0aW9uKCkge1xuICB1dGlscy50b2dnbGVFeHRlbnNpb24oKTtcbiAgdG9nZ2xlRW5hYmxlZCgpO1xufSk7XG5cbmZ1bmN0aW9uIHRvZ2dsZUVuYWJsZWQoKSB7XG4gIGxldCBpZCA9ICd7fSc7XG5cbiAgdmFyIGdldHRpbmcgPSBicm93c2VyLm1hbmFnZW1lbnQuZ2V0KGlkKTtcbiAgZ2V0dGluZ1xuICAgIC50aGVuKGluZm8gPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3RvZ2dsZWQnKTtcbiAgICAgIGJyb3dzZXIubWFuYWdlbWVudC5zZXRFbmFibGVkKGlkLCAhaW5mby5lbmFibGVkKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbn1cblxuZnVuY3Rpb24gc2V0X3Nob3VsZF9jYXBpdGFsaXNlX2lfdmFyaWFibGUodmFsdWUpIHtcbiAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7XG4gICAgc2hvdWxkX2NhcGl0YWxpc2VfaTogdmFsdWUsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRfc2hvdWxkX2NhcGl0YWxpc2VfbmFtZXNfdmFyaWFibGUodmFsdWUpIHtcbiAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7XG4gICAgc2hvdWxkX2NhcGl0YWxpc2VfbmFtZXM6IHZhbHVlLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0X3Nob3VsZF9jYXBpdGFsaXNlX2FiYnJldmlhdGlvbnNfdmFyaWFibGUodmFsdWUpIHtcbiAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7XG4gICAgc2hvdWxkX2NhcGl0YWxpc2VfYWJicmV2aWF0aW9uczogdmFsdWUsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRTaXRlcygpIHtcbiAgdmFyIHNpdGVzQm94VmFsID0gJCgnI3NpdGVzJykudmFsKCk7XG5cbiAgaWYgKHNpdGVzQm94VmFsKSB7XG4gICAgdmFyIHNpdGVzID0gc2l0ZXNCb3hWYWwuc3BsaXQoJ1xcbicpO1xuICAgIHJldHVybiBzaXRlcztcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxuJCgnI3NpdGVzJykub24oYGlucHV0LiR7cGx1Z2luTmFtZXNwYWNlfWAsIGZ1bmN0aW9uKCkge1xuICAkKCcjc3VibWl0QnV0dG9uJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG59KTtcbiIsImltcG9ydCB7IHBsdWdpbk5hbWVzcGFjZSB9IGZyb20gJy4vcGx1Z2luLWNvbnN0YW50cyc7XG5leHBvcnQgbGV0IHNob3VsZF9jYXBpdGFsaXNlX2kgPSBmYWxzZTtcbmV4cG9ydCBsZXQgc2hvdWxkX2NhcGl0YWxpc2VfbmFtZXMgPSBmYWxzZTtcbmV4cG9ydCBsZXQgZWxlbWVudHNfd2l0aF9ldmVudF9saXN0ZW5lciA9IFtdO1xuZXhwb3J0IGxldCBzaG91bGRfY2FwaXRhbGlzZV9hYmJyZXZpYXRpb25zID0gZmFsc2U7XG5leHBvcnQgbGV0IGNvbnN0YW50c19rZXlfdmFsID0ge307XG5leHBvcnQgbGV0IG5hbWVzX2tleV92YWwgPSB7fTtcbmV4cG9ydCBsZXQgYWJicmV2aWF0aW9uc19rZXlfdmFsID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRDYXBpdGFsaXNlRm9ySSh0ZXh0KSB7XG4gIGNvbnN0IHJlZ2V4ID0gL1xccytpKFxccyt8JykkLztcbiAgY29uc3QgbWF0Y2hlcyA9IHJlZ2V4LnRlc3QodGV4dCk7XG5cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTaG91bGRDYXBpdGFsaXNlSSh2YWx1ZSkge1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHNob3VsZF9jYXBpdGFsaXNlX2kgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRWxlbWVudFdpdGhFdmVudExpc3RlbmVyKGVsZW1lbnQpIHtcbiAgZWxlbWVudHNfd2l0aF9ldmVudF9saXN0ZW5lci5wdXNoKGVsZW1lbnQpO1xuICBjb25zb2xlLmxvZyhlbGVtZW50c193aXRoX2V2ZW50X2xpc3RlbmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUV4dGVuc2lvbigpIHtcbiAgY29uc29sZS5sb2coZWxlbWVudHNfd2l0aF9ldmVudF9saXN0ZW5lcik7XG4gIGVsZW1lbnRzX3dpdGhfZXZlbnRfbGlzdGVuZXIuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICBlbGVtZW50Lm9mZihgaW5wdXQuJHtwbHVnaW5OYW1lc3BhY2V9YCk7XG4gIH0pO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTaG91bGRDYXBpdGFsaXNlTmFtZXModmFsdWUpIHtcbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICBzaG91bGRfY2FwaXRhbGlzZV9uYW1lcyA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTaG91bGRDYXBpdGFsaXNlQWJicmV2aWF0aW9ucyh2YWx1ZSkge1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHNob3VsZF9jYXBpdGFsaXNlX2FiYnJldmlhdGlvbnMgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29uc3RhbnRzS2V5VmFsKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgY29uc3RhbnRzX2tleV92YWwgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TmFtZXNLZXlWYWwodmFsdWUpIHtcbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICBuYW1lc19rZXlfdmFsID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEFiYnJldmlhdGlvbnNLZXlWYWwodmFsdWUpIHtcbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICBhYmJyZXZpYXRpb25zX2tleV92YWwgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkQ2FwaXRhbGlzZSh0ZXh0KSB7XG4gIGNvbnN0IG11bHRpbGluZVJlZ2V4ID0gL1xccypcXG4rXFxzKlxcdyQvO1xuICBsZXQgbWF0Y2hlcyA9IG11bHRpbGluZVJlZ2V4LnRlc3QodGV4dCk7XG5cbiAgaWYgKG1hdGNoZXMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IHNlbnRlbmNlUmVnZXggPSAvXFx3K1xccyooWy4/IV0pK1xccytcXHckLztcbiAgbWF0Y2hlcyA9IHNlbnRlbmNlUmVnZXgudGVzdCh0ZXh0KTtcblxuICBpZiAoIW1hdGNoZXMpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAvLyBjb25zb2xlLmxvZyh0ZXh0Lmxlbmd0aCk7XG4gICAgcmV0dXJuIHRleHQubGVuZ3RoID09IDE7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhc2VJbnNlbnNpdGl2ZU1hdGNoaW5nQW5kQ29ycmVjdGVkV29yZHModGV4dCwga2V5X3ZhbCkge1xuICByZXR1cm4gZ2V0TWF0Y2hpbmdBbmRDb3JyZWN0ZWRXb3Jkcyh0ZXh0LCBrZXlfdmFsLCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhc2VTZW5zaXRpdmVNYXRjaGluZ0FuZENvcnJlY3RlZFdvcmRzKHRleHQsIGtleV92YWwpIHtcbiAgcmV0dXJuIGdldE1hdGNoaW5nQW5kQ29ycmVjdGVkV29yZHModGV4dCwga2V5X3ZhbCwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWF0Y2hpbmdBbmRDb3JyZWN0ZWRXb3Jkcyh0ZXh0LCBrZXlfdmFsLCBjYXNlX2luc2Vuc2l0aXZlKSB7XG4gIGNvbnN0IGxhc3RXb3JkUmVnZXggPSAvXFxiKFxcdyspXFxXJC87XG5cbiAgbGV0IG1hdGNoID0gbGFzdFdvcmRSZWdleC5leGVjKHRleHQpO1xuXG4gIGlmIChtYXRjaCkge1xuICAgIGNvbnN0IG1hdGNoZWRXb3JkID0gbWF0Y2hbMV07XG5cbiAgICBpZiAobWF0Y2hlZFdvcmQgIT0gbnVsbCkge1xuICAgICAgbGV0IGNvcnJlY3RlZFdvcmQgPVxuICAgICAgICBjYXNlX2luc2Vuc2l0aXZlID09PSB0cnVlXG4gICAgICAgICAgPyBrZXlfdmFsW21hdGNoZWRXb3JkLnRvTG93ZXJDYXNlKCldXG4gICAgICAgICAgOiBrZXlfdmFsW21hdGNoZWRXb3JkXTtcblxuICAgICAgaWYgKGNvcnJlY3RlZFdvcmQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW21hdGNoZWRXb3JkLCBjb3JyZWN0ZWRXb3JkXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gWycnLCAnJ107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkVycm9yKGVycm9yKSB7XG4gIGNvbnNvbGUubG9nKGVycm9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHQoaHRtbENvbnRyb2wsIHRhZ05hbWUpIHtcbiAgaWYgKFxuICAgIHRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0lOUFVUJyB8fFxuICAgIHRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1RFWFRBUkVBJ1xuICApIHtcbiAgICByZXR1cm4gaHRtbENvbnRyb2wudmFsdWUgPyBodG1sQ29udHJvbC52YWx1ZSA6ICcnO1xuICB9XG5cbiAgcmV0dXJuIGh0bWxDb250cm9sLmlubmVySFRNTCA/IGh0bWxDb250cm9sLmlubmVySFRNTCA6ICcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VGV4dChodG1sQ29udHJvbCwgdGFnTmFtZSwgdXBkYXRlZFN0ciwgc2hvdWxkQXBwZW5kQnIpIHtcbiAgaWYgKFxuICAgIHRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0lOUFVUJyB8fFxuICAgIHRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1RFWFRBUkVBJ1xuICApIHtcbiAgICBodG1sQ29udHJvbC52YWx1ZSA9IHVwZGF0ZWRTdHI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHNob3VsZEFwcGVuZEJyKSB7XG4gICAgdXBkYXRlZFN0ciArPSAnPGJyPic7XG4gIH1cblxuICBodG1sQ29udHJvbC5pbm5lckhUTUwgPSB1cGRhdGVkU3RyO1xuICBzZXRFbmRPZkNvbnRlbnRlZGl0YWJsZShodG1sQ29udHJvbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpcnN0VGV4dE9mRWRpdGFibGVUZXh0Tm9kZShub2RlKSB7XG4gIGNvbnN0IGRhdGEgPSBub2RlLmRhdGE7XG4gIGNvbnN0IHRleHROb2RlID0gJyN0ZXh0JztcblxuICBpZiAoXG4gICAgbm9kZS5ub2RlTmFtZSA9PT0gdGV4dE5vZGUgJiZcbiAgICBkYXRhLmxlbmd0aCA9PT0gMSAmJlxuICAgIGRhdGEudG9VcHBlckNhc2UoKSAhPSBkYXRhICYmXG4gICAgc2hvdWxkQ2FwaXRhbGlzZUNvbnRlbnQobm9kZS5wYXJlbnROb2RlKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEVuZE9mQ29udGVudGVkaXRhYmxlKGNvbnRlbnRFZGl0YWJsZUVsZW1lbnQpIHtcbiAgbGV0IHJhbmdlLCBzZWxlY3Rpb247XG4gIGlmIChkb2N1bWVudC5jcmVhdGVSYW5nZSkge1xuICAgIC8vRmlyZWZveCwgQ2hyb21lLCBPcGVyYSwgU2FmYXJpLCBJRSA5K1xuICAgIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsgLy9DcmVhdGUgYSByYW5nZSAoYSByYW5nZSBpcyBhIGxpa2UgdGhlIHNlbGVjdGlvbiBidXQgaW52aXNpYmxlKVxuICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBjb250ZW50RWRpdGFibGVFbGVtZW50LmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2RlcyA9PSBudWxsKSByZXR1cm47XG5cbiAgICBjb25zdCBjaGlsZE5vZGUgPVxuICAgICAgY2hpbGROb2Rlcy5sZW5ndGggPT0gMSA/IGNoaWxkTm9kZXNbMF0gOiBjaGlsZE5vZGVzW2NoaWxkTm9kZXMubGVuZ3RoIC0gMl07XG4gICAgLy8gY2hpbGROb2Rlcy5mb3JFYWNoKHg9PmNvbnNvbGUubG9nKHgub3V0ZXJIVE1MKSk7XG5cbiAgICBpZiAoY2hpbGROb2RlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2RlLm5vZGVOYW1lID09PSAnI3RleHQnKSB7XG4gICAgICByYW5nZS5zZXRTdGFydChjaGlsZE5vZGUsIGNoaWxkTm9kZS5kYXRhLmxlbmd0aCk7XG4gICAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChjaGlsZE5vZGUub3V0ZXJIVE1MID09PSAnPGJyPicpIHtcbiAgICAgIHJhbmdlLnNldFN0YXJ0KGNoaWxkTm9kZSwgMCk7XG4gICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGNvbnRlbnRFZGl0YWJsZUVsZW1lbnQpOyAvL1NlbGVjdCB0aGUgZW50aXJlIGNvbnRlbnRzIG9mIHRoZSBlbGVtZW50IHdpdGggdGhlIHJhbmdlXG4gICAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7IC8vY29sbGFwc2UgdGhlIHJhbmdlIHRvIHRoZSBlbmQgcG9pbnQuIGZhbHNlIG1lYW5zIGNvbGxhcHNlIHRvIGVuZCByYXRoZXIgdGhhbiB0aGUgc3RhcnRcbiAgICB9XG5cbiAgICBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7IC8vZ2V0IHRoZSBzZWxlY3Rpb24gb2JqZWN0IChhbGxvd3MgeW91IHRvIGNoYW5nZSBzZWxlY3Rpb24pXG4gICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpOyAvL3JlbW92ZSBhbnkgc2VsZWN0aW9ucyBhbHJlYWR5IG1hZGVcbiAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpOyAvL21ha2UgdGhlIHJhbmdlIHlvdSBoYXZlIGp1c3QgY3JlYXRlZCB0aGUgdmlzaWJsZSBzZWxlY3Rpb25cbiAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICAvL0lFIDggYW5kIGxvd2VyXG4gICAgcmFuZ2UgPSBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpOyAvL0NyZWF0ZSBhIHJhbmdlIChhIHJhbmdlIGlzIGEgbGlrZSB0aGUgc2VsZWN0aW9uIGJ1dCBpbnZpc2libGUpXG4gICAgcmFuZ2UubW92ZVRvRWxlbWVudFRleHQoY29udGVudEVkaXRhYmxlRWxlbWVudCk7IC8vU2VsZWN0IHRoZSBlbnRpcmUgY29udGVudHMgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgcmFuZ2VcbiAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7IC8vY29sbGFwc2UgdGhlIHJhbmdlIHRvIHRoZSBlbmQgcG9pbnQuIGZhbHNlIG1lYW5zIGNvbGxhcHNlIHRvIGVuZCByYXRoZXIgdGhhbiB0aGUgc3RhcnRcbiAgICByYW5nZS5zZWxlY3QoKTsgLy9TZWxlY3QgdGhlIHJhbmdlIChtYWtlIGl0IHRoZSB2aXNpYmxlIHNlbGVjdGlvblxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXNlVGV4dChcbiAgZWxlbWVudCxcbiAgc2hvdWxkQ2FwaXRhbGlzZSxcbiAgc2hvdWxkQ2FwaXRhbGlzZUZvckksXG4gIGdldFRleHQsXG4gIHNldFRleHRcbikge1xuICBpZiAoIWVsZW1lbnQpIHJldHVybjtcblxuICBsZXQgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZTtcblxuICBpZiAoIWlzRWRpdGFibGVFbGVtZW50KGVsZW1lbnQsIHRhZ05hbWUpKSByZXR1cm47XG5cbiAgbGV0IHRleHQgPSBnZXRUZXh0KGVsZW1lbnQsIHRhZ05hbWUpO1xuXG4gIGlmICh0ZXh0ID09IG51bGwpIHJldHVybjtcblxuICBjb25zdCBsYXN0Q2hhciA9IHRleHQudHJpbSgpLnNsaWNlKC0xKTtcbiAgY29uc3QgaXNMYXN0Q2hhckFuQWxwaGFiZXQgPSBsYXN0Q2hhci5tYXRjaCgvW2Etel0vaSk7XG5cbiAgaWYgKHRleHQubGVuZ3RoID09IDEgJiYgIWlzTGFzdENoYXJBbkFscGhhYmV0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy9zdXBwb3J0IGZvciBqaXJhJ3MgY29tbWVudCBzZWN0aW9uJ3MgcCB0YWdzXG4gIGlmIChpc0xhc3RDaGFyQW5BbHBoYWJldCAmJiBsYXN0Q2hhci50b1VwcGVyQ2FzZSgpID09PSBsYXN0Q2hhcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBzaG91bGRBcHBlbmRCciA9IGZhbHNlO1xuICBpZiAodGV4dC5sZW5ndGggPj0gNCAmJiB0ZXh0LnNsaWNlKC00KSA9PT0gJzxicj4nKSB7XG4gICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTQpO1xuICAgIHNob3VsZEFwcGVuZEJyID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzaG91bGRDYXBpdGFsaXNlKHRleHQpKSB7XG4gICAgY29uc3QgdXBkYXRlZFN0ciA9IGdldENhcGl0YWxpc2VkQ29udGVudCh0ZXh0KTtcblxuICAgIHNldFRleHQoZWxlbWVudCwgdGFnTmFtZSwgdXBkYXRlZFN0ciwgc2hvdWxkQXBwZW5kQnIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0ZXh0Lmxlbmd0aCA+PSAyICYmIHNob3VsZENhcGl0YWxpc2VGb3JJKHRleHQpICYmIHNob3VsZF9jYXBpdGFsaXNlX2kpIHtcbiAgICBjb25zdCB1cGRhdGVkU3RyID0gZ2V0Q2FwaXRhbGlzZWRDb250ZW50Rm9ySSh0ZXh0KTtcblxuICAgIHNldFRleHQoZWxlbWVudCwgdGFnTmFtZSwgdXBkYXRlZFN0ciwgc2hvdWxkQXBwZW5kQnIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNhc2Vfc2Vuc2l0aXZlID0gdHJ1ZTtcbiAgdXBkYXRlQ29uc3RhbnQodGV4dCwgZWxlbWVudCwgdGFnTmFtZSwgY29uc3RhbnRzX2tleV92YWwsIGNhc2Vfc2Vuc2l0aXZlKTtcblxuICBpZiAoc2hvdWxkX2NhcGl0YWxpc2VfbmFtZXMpIHtcbiAgICB1cGRhdGVDb25zdGFudCh0ZXh0LCBlbGVtZW50LCB0YWdOYW1lLCBuYW1lc19rZXlfdmFsLCAhY2FzZV9zZW5zaXRpdmUpO1xuICB9XG4gIFxuICBpZiAoc2hvdWxkX2NhcGl0YWxpc2VfYWJicmV2aWF0aW9ucykge1xuICAgIHVwZGF0ZUNvbnN0YW50KHRleHQsIGVsZW1lbnQsIHRhZ05hbWUsIGFiYnJldmlhdGlvbnNfa2V5X3ZhbCwgIWNhc2Vfc2Vuc2l0aXZlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDb25zdGFudCh0ZXh0LCBlbGVtZW50LCB0YWdOYW1lLCBrZXlfdmFsLCBjYXNlX3NlbnNpdGl2ZSkge1xuICBjb25zdCBbbWF0Y2hlZFdvcmQsIGNvcnJlY3RlZFdvcmRdID1cbiAgICBjYXNlX3NlbnNpdGl2ZSA9PT0gdHJ1ZVxuICAgICAgPyBnZXRDYXNlU2Vuc2l0aXZlTWF0Y2hpbmdBbmRDb3JyZWN0ZWRXb3Jkcyh0ZXh0LCBrZXlfdmFsKVxuICAgICAgOiBnZXRDYXNlSW5zZW5zaXRpdmVNYXRjaGluZ0FuZENvcnJlY3RlZFdvcmRzKHRleHQsIGtleV92YWwpO1xuXG4gIGlmIChtYXRjaGVkV29yZCAhPT0gJycpIHtcbiAgICBpZiAobWF0Y2hlZFdvcmQgIT09IGNvcnJlY3RlZFdvcmQpIHtcbiAgICAgIGxldCB1cGRhdGVkU3RyID0gdGV4dC5yZXBsYWNlKG1hdGNoZWRXb3JkLCBjb3JyZWN0ZWRXb3JkKTtcbiAgICAgIHNldFRleHQoZWxlbWVudCwgdGFnTmFtZSwgdXBkYXRlZFN0ciwgZmFsc2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FwaXRhbGlzZWRDb250ZW50Rm9ySSh0ZXh0KSB7XG4gIGNvbnN0IGxhc3RUd29DaGFycyA9IHRleHQuc2xpY2UoLTIpO1xuICBjb25zdCB1cGRhdGVkU3RyID1cbiAgICB0ZXh0LnN1YnN0cigwLCB0ZXh0Lmxlbmd0aCAtIDIpICsgbGFzdFR3b0NoYXJzLnRvVXBwZXJDYXNlKCk7XG4gIHJldHVybiB1cGRhdGVkU3RyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FwaXRhbGlzZWRDb250ZW50KHRleHQpIHtcbiAgY29uc3QgbGFzdENoYXIgPSB0ZXh0LnNsaWNlKC0xKTtcbiAgY29uc3QgdXBkYXRlZFN0ciA9IHRleHQuc3Vic3RyKDAsIHRleHQubGVuZ3RoIC0gMSkgKyBsYXN0Q2hhci50b1VwcGVyQ2FzZSgpO1xuICByZXR1cm4gdXBkYXRlZFN0cjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zSHRtbENvbnRlbnQoZWxlbWVudCkge1xuICBjb25zdCBjb250ZW50ID0gJChlbGVtZW50KS5odG1sKCk7XG5cbiAgY29uc3QgYnJSZWdleCA9IC9cXHMqPGJyPi87XG4gIGlmIChjb250ZW50ICYmIGJyUmVnZXgudGVzdChjb250ZW50KSkgcmV0dXJuIGZhbHNlO1xuXG4gIGNvbnN0IHJlZ2V4ID0gLzxcXC8/XFx3Kz4vO1xuICBjb25zdCBoYXNIdG1sVGFnID0gcmVnZXgudGVzdChjb250ZW50KTtcbiAgcmV0dXJuIGhhc0h0bWxUYWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRlbnRFZGl0YWJsZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuaXNDb250ZW50RWRpdGFibGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWx0ZXJlZEVsZW1lbnRzKGFkZGVkTm9kZXMsIHRhZ05hbWUpIHtcbiAgcmV0dXJuICQoYWRkZWROb2RlcylcbiAgICAuZmluZCh0YWdOYW1lKVxuICAgIC5hZGRCYWNrKHRhZ05hbWUpOyAvLyBmaW5kcyBlaXRoZXIgYWRkZWQgYWxvbmUgb3IgYXMgdHJlZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkQ2FwaXRhbGlzZUNvbnRlbnQoZWxlbWVudCkge1xuICByZXR1cm4gaXNDb250ZW50RWRpdGFibGUoZWxlbWVudCkgJiYgIWNvbnRhaW5zSHRtbENvbnRlbnQoZWxlbWVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VkaXRhYmxlRWxlbWVudChlbGVtZW50LCB0YWdOYW1lKSB7XG4gIHJldHVybiAoXG4gICAgZWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZSB8fFxuICAgIHRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0lOUFVUJyB8fFxuICAgIHRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1RFWFRBUkVBJ1xuICApO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiBtb2R1bGVbJ2RlZmF1bHQnXSA6XG5cdFx0KCkgPT4gbW9kdWxlO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZVxuX193ZWJwYWNrX3JlcXVpcmVfXyg0NTEpO1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbl9fd2VicGFja19yZXF1aXJlX18oNTU1KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=